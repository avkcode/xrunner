{
  "schema_version": "2025-12-15",
  "bundle_version": "v2025-12-15",
  "generated_at": "2025-12-15T14:55:46Z",
  "tools": [
    {
      "type": "function",
      "strict": true,
      "function": {
        "name": "list_jobs",
        "description": "Return the latest jobs known to the xrunner control plane for the requested tenant.",
        "parameters": {
          "type": "object",
          "properties": {
            "tenant_id": {
              "type": "string",
              "description": "Tenant identifier such as default or prod."
            },
            "state": {
              "type": "string",
              "description": "Optional state filter; accepted|running|succeeded|failed.",
              "enum": [
                "accepted",
                "running",
                "succeeded",
                "failed"
              ]
            },
            "limit": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "description": "Maximum number of jobs to return (default 20)."
            }
          },
          "required": [
            "tenant_id"
          ],
          "additionalProperties": false
        }
      }
    },
    {
      "type": "function",
      "strict": true,
      "function": {
        "name": "stream_job_logs",
        "description": "Stream stdout/stderr for a specific job until completion and return the concatenated text.",
        "parameters": {
          "type": "object",
          "properties": {
            "tenant_id": {
              "type": "string",
              "description": "Tenant identifier that owns the job"
            },
            "job_id": {
              "type": "string",
              "description": "Opaque job identifier emitted by JobService.SubmitJob"
            },
            "follow": {
              "type": "boolean",
              "description": "If true, block until the worker finishes and include trailing logs",
              "default": true
            }
          },
          "required": [
            "tenant_id",
            "job_id"
          ],
          "additionalProperties": false
        }
      }
    },
    {
      "type": "function",
      "strict": true,
      "function": {
        "name": "shell",
        "description": "Run a shell command inside the session workspace and stream stdout/stderr as tool output chunks.",
        "parameters": {
          "type": "object",
          "properties": {
            "cmd": {
              "type": "string",
              "description": "Shell command to execute (runs via sh -lc)."
            },
            "cwd": {
              "type": "string",
              "description": "Optional working directory relative to the session workspace root."
            },
            "env": {
              "type": "object",
              "description": "Optional environment variables to set for the command.",
              "additionalProperties": {
                "type": "string"
              }
            },
            "pty": {
              "type": "boolean",
              "description": "If true, run under a PTY (stdout/stderr merged).",
              "default": true
            }
          },
          "required": [
            "cmd"
          ],
          "additionalProperties": false
        }
      }
    },
    {
      "type": "function",
      "strict": true,
      "function": {
        "name": "write_file_atomic",
        "description": "Write a UTF-8 text file relative to the session workspace root (atomic rename) and emit a unified diff event.",
        "parameters": {
          "type": "object",
          "properties": {
            "path": {
              "type": "string",
              "description": "Relative file path within the session workspace."
            },
            "content": {
              "type": "string",
              "description": "Full file contents to write."
            },
            "mode": {
              "type": "integer",
              "minimum": 0,
              "maximum": 511,
              "description": "Optional file mode as a decimal number (e.g. 420 for 0644). 0 uses default 0644."
            }
          },
          "required": [
            "path",
            "content"
          ],
          "additionalProperties": false
        }
      }
    }
  ]
}
